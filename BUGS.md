# Задание 2.1 БАГ-РЕПОРТ

## BUG-01 — Ответ POST /api/1/item не соответствует контракту
**Идентификатор:** BUG-01  
**Описание:**  
При успешном создании объявления сервис возвращает поле `status` вместо корректной структуры ответа.

**Шаги воспроизведения:**  
1. Выполнить POST /api/1/item с телом:
```json
{
  "sellerID": 117177,
  "name": "krbll",
  "price": 50001,
  "statistics": { "likes": 13, "viewCount": 27, "contacts": 43 }
}
```

**Ожидаемый результат:**  
Корректный JSON со всеми обязательными полями.

**Фактический результат:**  
Возвращается JSON со строкой `status`.

**Вложения:** Нет.

---

## BUG-02 — Невозможно создать объявление без поля statistics
**Идентификатор:** BUG-02  
**Описание:**  
API требует statistics, хотя оно должно создаваться автоматически.

**Шаги воспроизведения:**  
1. POST /api/1/item с телом:
```json
{
  "sellerID": 117177,
  "name": "krbll",
  "price": 50001
}
```

**Ожидаемый результат:**  
200 OK, statistics создаётся автоматически.

**Фактический результат:**  
400 Bad Request.

**Вложения:**  
```json
{
  "result": { "message": "statistics is required", "messages": {} },
  "status": "error"
}
```

---

## BUG-03 — Создание объявления с невалидным sellerID
**Идентификатор:** BUG-03  
**Описание:**  
API принимает sellerID = -777 и создаёт объявление.

**Шаги воспроизведения:**  
1. POST /api/1/item с телом:
```json
{
  "sellerID": -777,
  "name": "krbll",
  "price": 50001,
  "statistics": { "likes": 13, "viewCount": 27, "contacts": 43 }
}
```

**Ожидаемый результат:**  
400 Bad Request.

**Фактический результат:**  
200 OK, объявление создаётся.

**Вложения:**  
```json
{ "status": "Сохранили объявление - <id>" }
```

---

## BUG-04 — Создание объявления с отрицательным price
**Идентификатор:** BUG-04  
**Описание:**  
При price = -50001 объявление создаётся успешно.

**Шаги воспроизведения:**  
1. POST /api/1/item:
```json
{
  "sellerID": 117177,
  "name": "krbll",
  "price": -50001,
  "statistics": { "likes": 13, "viewCount": 27, "contacts": 43 }
}
```

**Ожидаемый результат:**  
400 Bad Request.

**Фактический результат:**  
200 OK.

**Вложения:** Нет.

---

## BUG-05 — Сервис позволяет создавать объявления с отрицательными значениями статистики
**Идентификатор:** BUG-05  
**Описание:**  
Отрицательные значения likes/viewCount/contacts принимаются как валидные.

**Шаги воспроизведения:**  
1. POST /api/1/item:
```json
{
  "sellerID": 117177,
  "name": "krbll",
  "price": 50001,
  "statistics": { "likes": -13, "viewCount": 27, "contacts": 43 }
}
```

**Ожидаемый результат:**  
400 Bad Request.

**Фактический результат:**  
200 OK.

**Вложения:** Нет.

---

## BUG-06 — Лишние поля допускаются при создании объявления
**Идентификатор:** BUG-06  
**Описание:**  
При передаче поля `padding` API создаёт объявление.

**Шаги воспроизведения:**  
1. POST /api/1/item:
```json
{
  "sellerID": 117177,
  "name": "krbll",
  "price": 50001,
  "statistics": { "likes": 13, "viewCount": 27, "contacts": 43 },
  "padding": "padding"
}
```

**Ожидаемый результат:**  
400 Bad Request.

**Фактический результат:**  
200 OK.

**Вложения:** Нет.

---

## BUG-07 — Невалидный sellerID в GET /api/1/{sellerID}/item возвращает неверный код
**Идентификатор:** BUG-07  
**Описание:**  
При sellerID = 0 или -1 API возвращает 200, а должен 400.

**Шаги воспроизведения:**  
1. GET /api/1/0/item  
2. GET /api/1/-1/item

**Ожидаемый результат:**  
400 Bad Request.

**Фактический результат:**  
200 OK.

**Вложения:**  
```json
[]
```

---

## BUG-08 — Несоответствие status и HTTP-кода в API v2
**Идентификатор:** BUG-08  
**Описание:**  
HTTP 404, но поле status = "400".

**Шаги воспроизведения:**  
1. GET /api/2/statistic/777

**Ожидаемый результат:**  
Поле status должно быть "404".

**Фактический результат:**  
```json
{
  "result": { "message": "передан некорректный идентификатор объявления", "messages": null },
  "status": "400"
}
```

**Вложения:** Нет.

---

## BUG-09 — Создание объявления с невалидным name (пробелы/спецсимволы)
**Идентификатор:** BUG-09  
**Описание:**  
API принимает name состоящий из пробелов или спецсимволов.

**Шаги воспроизведения:**  
1. POST /api/1/item:
```json
{
  "sellerID": 117177,
  "name": "##@@ %%",
  "price": 50001,
  "statistics": { "likes": 13, "viewCount": 27, "contacts": 43 }
}
```
2. Повторить с name = "     ".

**Ожидаемый результат:**  
400 Bad Request.

**Фактический результат:**  
200 OK.

**Вложения:** Нет.

---

## BUG-10 — Невозможно создать объявление со statistics = 0
**Идентификатор:** BUG-10  
**Описание:**  
API возвращает ошибку при создании объявления со значениями 0 в статистике.

**Шаги воспроизведения:**  
1. POST /api/1/item:
```json
{
  "sellerID": 117177,
  "name": "krbll",
  "price": 50001,
  "statistics": { "likes": 0, "viewCount": 0, "contacts": 0 }
}
```

**Ожидаемый результат:**  
200 OK.

**Фактический результат:**  
400 Bad Request.

**Вложения:**  
```json
{
  "result": { "message": "поле likes обязательно", "messages": {} },
  "status": "400"
}
```
